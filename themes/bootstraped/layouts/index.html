{{define "main"}}
{{$scratch := newScratch}}
{{with .Site.Menus.main}}
    {{ $.Scratch.Set "aboutLink" (substr (index . 0).URL 1) }}
    {{ $.Scratch.Set "portfolioLink" (substr (index . 1).URL 1) }}
{{end}}
{{with .Site.Menus.more}}
    {{ $.Scratch.Set "blogLink" (substr (index . 0).URL 1) }}
    {{ $.Scratch.Set "resumeLink" (substr (index . 1).URL 1) }}
{{end}}
{{with .Site.Menus.contact}}
    {{ $.Scratch.Set "contactLink" (substr (index . 0).URL 1) }}
{{end}}

<section class="row pt-5">
    <div class="col-md-4 text-center" >
        <img class="img-fluid profile-picture" loading="lazy" src="/imgs/profile.jpg" alt="{{i18n "homeAboutProfilePictureAltText"}}">
    </div>
    <div class="col-md-8">
        <p class="text-warning mb-0 font-light">{{upper (i18n "homeAboutHelloHeading")}} &#128075;</p>
        <h1 class="font-light">{{i18n "homeAboutImStart" |title}} <span class="font-bolder">{{.Site.Params.ownerFirstName}}</span>,</h1>
        <p class="">
            {{i18n "homeAboutShortDescriptionTranslation" . }}
            {{safeHTML (i18n "homeAboutCheckMyBlogTextTranslation" (dict "Count" 1 "blogLink" (.Scratch.Get "blogLink"))) }}
            {{safeHTML (i18n "homeAboutContributingTranslation" (dict "Count" 1 "portfolioLink" (.Scratch.Get "portfolioLink")))}}
        </p>
        <p>{{i18n "homeAboutHowMayIHelpTextTranslation" }}&#128521;</p>
        <div class="row">
            <div class="col-auto">
                <a href="{{(.Scratch.Get "contactLink")}}" class="btn btn-outline-warning font-bolder" >{{ i18n "homeAboutLetsTalkButton" |title}} &#128172;</a>
            </div>

            <div class="col-auto">
                <a href="{{(.Scratch.Get "portfolioLink")}}" class="btn btn-outline-success font-bolder">{{ i18n "homeAboutExplorePortfolioButton" |title}} &#128214;</a>
            </div>

        </div>
    </div>

</section>
<hr>
<section class="pt-5">
    <p class=" text-warning mb-0">{{upper (i18n "homeWhatMiniHeaderTextTranslation")}}</p>
    <h1 class="font-boldest">{{humanize (i18n "homeWhatHeaderTextTranslation")}}</h1>
    <p>{{i18n "homeWhatDescriptionIntroTextTranslation"}}
    {{i18n "homeWhatDescriptionIntroMainSkillsTextTranslation"}}
    </p>
    <div class="row tools-list">
        {{range .Site.Params.ownerSkillsSet}}
        <div class="col-md-4 col-lg-3 mb-3" >
            <ul class="list-group ">
                <li class="list-group-item active ">
                    <img src="{{.iconClass}}" style="display: inline">
                    <p>{{.title}}</p>
                </li>
                {{range .libs}}
                    <li class="list-group-item">
                        <img src="{{.iconClass}}" style="display: inline">
                        {{.title}}
                    </li>
                {{ end }}
            </ul>
        </div>
        {{end}}
    </div>


</section>
<hr>
<section class="mt-5">
    <p class="text-warning mb-0">PROJECTS</p>
    <h1 class="font-boldest">I recently worked on</h1>

    <div class="card" >
        <img class="card-img-top" src="https://source.unsplash.com/1600x900/?app,screensharing" alt="Card image cap">
        <div class="card-body">
            <h5 class="card-title">Card title</h5>
            <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
            <a href="#" class="btn btn-primary">Go somewhere</a>
        </div>
    </div>
</section>
<hr>

<section class="mt-5">
    <p class=" text-warning mb-0">BLOG</p>
    <h1 class="font-boldest">Posts</h1>
    {{range (.Site.GetPage (substr (index .Site.Menus.main 1).URL 1) .Section).Pages.ByPublishDate.Reverse | first 3 }}
    {{- partial "blog-post-list-item.html" (dict "post" . "layout" "horizontal") -}}
    {{end}}

</section>
{{end}}
